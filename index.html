<!DOCTYPE html>
<html lang="ku" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AWEZA TV - Player</title>
    <style>
        body { background: #000; color: #fff; font-family: sans-serif; text-align: center; margin: 0; }
        .header { padding: 20px; background: #111; font-size: 24px; font-weight: bold; color: #e50914; }
        .video-box { width: 100%; background: #000; aspect-ratio: 16/9; }
        video { width: 100%; height: 100%; border-bottom: 2px solid #e50914; }
        .controls { padding: 20px; }
        .external-btn {
            display: inline-block;
            padding: 12px 25px;
            background: #ff9800;
            color: #000;
            text-decoration: none;
            border-radius: 5px;
            font-weight: bold;
            margin-top: 10px;
        }
        .channel-list { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; padding: 15px; }
        .channel-item { background: #222; padding: 15px; border-radius: 8px; cursor: pointer; border: 1px solid #333; }
        .channel-item:active { background: #444; }
    </style>
</head>
<body>

<div class="header">AWEZA TV</div>

<div class="video-box">
    <video id="mainPlayer" controls autoplay playsinline></video>
</div>

<div class="controls">
    <p id="channelName">تکایە کەناڵێک هەڵبژێرە</p>
    <a id="vlcLink" href="#" class="external-btn">کردنەوە بە ئەپی VLC</a>
</div>

<div class="channel-list" id="list"></div>

<script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
<script>
    const channels = [
        { name: "Kurdstat", url: "https://live.kurdstat.com/hls/stream.m3u8" },
        { name: "Rudaw", url: "https://lb.rudaw.net/rudawlive/smil:rudaw.smil/playlist.m3u8" },
        { name: "Kurdistan 24", url: "https://live.k24.com/hls/stream.m3u8" }
    ];

    const video = document.getElementById('mainPlayer');
    const vlcLink = document.getElementById('vlcLink');
    const nameLabel = document.getElementById('channelName');

    function setupPlayer(url, name) {
        nameLabel.innerText = "ئێستا پەخش دەکرێت: " + name;
        
        // دروستکردنی لینکی تایبەت بۆ VLC
        // vlc:// ڕێگەیەکە مۆبایلەکە تێدەگەیەنێت کە دەبێت ئەپی VLC بکاتەوە
        vlcLink.href = "vlc://" + url;

        if (Hls.isSupported()) {
            const hls = new Hls();
            hls.loadSource(url);
            hls.attachMedia(video);
        } else {
            video.src = url;
        }
    }

    const listDiv = document.getElementById('list');
    channels.forEach(ch => {
        const div = document.createElement('div');
        div.className = 'channel-item';
        div.innerText = ch.name;
        div.onclick = () => setupPlayer(ch.url, ch.name);
        listDiv.appendChild(div);
    });
</script>

</body>
</html>
